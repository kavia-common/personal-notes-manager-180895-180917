{"is_source_file": true, "format": "Python", "description": "This file defines a domain model class 'Note' and a thread-safe in-memory repository class 'InMemoryNoteRepository' for managing Note instances, including CRUD operations. It appears to serve as a data layer component within a larger notes management backend.", "external_files": [], "external_methods": ["time.time"], "published": ["Note", "InMemoryNoteRepository", "repository"], "classes": [{"name": "Note", "description": "Domain model for a Note object, representing its storage layer structure with metadata such as timestamps."}, {"name": "InMemoryNoteRepository", "description": "A thread-safe repository class providing CRUD operations for Note objects stored in-memory."}], "methods": [{"name": "Note create(self, title: str, content: str, owner_id: str)", "description": "Creates a new Note with given title, content, and owner_id, assigns a unique ID, and stores it.", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"name": "List[Note] list_all(self, owner_id: Optional[str] = None)", "description": "Returns all notes, optionally filtered by owner_id.", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"name": "Optional[Note] get(self, note_id: int)", "description": "Retrieves a Note by its ID.", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"name": "Optional[Note] update(self, note_id: int, *, title: Optional[str] = None, content: Optional[str] = None)", "description": "Updates the title and/or content of a Note specified by note_id.", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"name": "bool delete(self, note_id: int)", "description": "Deletes a Note by its ID, returns True if successful.", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"name": "int _generate_id(self)", "description": "Generates a new unique ID for notes.", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"name": "None __init__(self)", "scope": "InMemoryNoteRepository", "scopeKind": "class", "description": "unavailable"}], "calls": ["time.time", "threading.RLock", "dict.get", "dict.pop"], "search-terms": ["InMemoryNoteRepository", "Note", "notes_backend", "models", "repository", "CRUD"], "state": 2, "file_id": 6, "knowledge_revision": 13, "git_revision": "", "ctags": [{"_type": "tag", "name": "InMemoryNoteRepository", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^class InMemoryNoteRepository:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^class Note:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"_type": "tag", "name": "_generate_id", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^    def _generate_id(self) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "member", "signature": "(self)", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^    def create(self, title: str, content: str, owner_id: str) -> Note:$/", "language": "Python", "typeref": "typename:Note", "kind": "member", "signature": "(self, title: str, content: str, owner_id: str)", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^    created_at: float = field(default_factory=lambda: time.time())$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "Note", "scopeKind": "class"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^    def delete(self, note_id: int) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, note_id: int)", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^    def get(self, note_id: int) -> Optional[Note]:$/", "language": "Python", "typeref": "typename:Optional[Note]", "kind": "member", "signature": "(self, note_id: int)", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"_type": "tag", "name": "list_all", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^    def list_all(self, owner_id: Optional[str] = None) -> List[Note]:$/", "language": "Python", "typeref": "typename:List[Note]", "kind": "member", "signature": "(self, owner_id: Optional[str] = None)", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"_type": "tag", "name": "repository", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^repository = InMemoryNoteRepository()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^    def update(self, note_id: int, *, title: Optional[str] = None, content: Optional[str] = None/", "language": "Python", "typeref": "typename:Optional[Note]", "kind": "member", "signature": "(self, note_id: int, *, title: Optional[str] = None, content: Optional[str] = None)", "scope": "InMemoryNoteRepository", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-180895-180917/notes_backend/src/api/models.py", "pattern": "/^    updated_at: float = field(default_factory=lambda: time.time())$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "Note", "scopeKind": "class"}], "hash": "98ce87a44cdf91dbb46353a6061f3772", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/models.py", "fields": [{"name": "float created_at", "scope": "Note", "scopeKind": "class", "description": "unavailable"}, {"name": "repository = InMemoryNoteRepository()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "float updated_at", "scope": "Note", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"13": ""}]}